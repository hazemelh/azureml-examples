{
    "flowGraph": {
        "nodes": [
            {
                "name": "fetch_text_content_from_url",
                "type": "python",
                "source": {
                    "type": "code",
                    "path": "fetch_text_content_from_url.py"
                },
                "inputs": {
                    "fetch_url": "${inputs.url}"
                },
                "tool": "fetch_text_content_from_url.py",
                "reduce": false
            },
            {
                "name": "prepare_examples",
                "type": "python",
                "source": {
                    "type": "code",
                    "path": "prepare_examples.py"
                },
                "inputs": {},
                "tool": "prepare_examples.py",
                "reduce": false
            },
            {
                "name": "classify_with_llm",
                "type": "llm",
                "source": {
                    "type": "code",
                    "path": "classify_with_llm.jinja2"
                },
                "inputs": {
                    "deployment_name": "gpt-35-turbo",
                    "suffix": "",
                    "max_tokens": "128",
                    "temperature": "0.1",
                    "top_p": "1.0",
                    "logprobs": "",
                    "echo": "False",
                    "stop": "",
                    "presence_penalty": "0",
                    "frequency_penalty": "0",
                    "best_of": "1",
                    "logit_bias": "",
                    "url": "${inputs.url}",
                    "examples": "${prepare_examples.output}",
                    "text_content": "${summarize_text_content.output}"
                },
                "tool": "classify_with_llm.jinja2",
                "reduce": false,
                "api": "chat",
                "provider": "AzureOpenAI",
                "connection": "azure_open_ai_connection",
                "module": "promptflow.tools.aoai"
            },
            {
                "name": "convert_to_dict",
                "type": "python",
                "source": {
                    "type": "code",
                    "path": "convert_to_dict.py"
                },
                "inputs": {
                    "input_str": "${classify_with_llm.output}"
                },
                "tool": "convert_to_dict.py",
                "reduce": false
            },
            {
                "name": "summarize_text_content",
                "type": "llm",
                "source": {
                    "type": "code",
                    "path": "summarize_text_content.jinja2"
                },
                "inputs": {
                    "deployment_name": "gpt-35-turbo",
                    "suffix": "",
                    "max_tokens": "128",
                    "temperature": "0.2",
                    "top_p": "1.0",
                    "logprobs": "",
                    "echo": "False",
                    "stop": "",
                    "presence_penalty": "0",
                    "frequency_penalty": "0",
                    "best_of": "1",
                    "logit_bias": "",
                    "text": "${fetch_text_content_from_url.output}"
                },
                "tool": "summarize_text_content.jinja2",
                "reduce": false,
                "api": "chat",
                "provider": "AzureOpenAI",
                "connection": "azure_open_ai_connection",
                "module": "promptflow.tools.aoai"
            }
        ],
        "tools": [
            {
                "name": "Content Safety (Text Analyze)",
                "type": "python",
                "inputs": {
                    "connection": {
                        "type": [
                            "AzureContentSafetyConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "hate_category": {
                        "type": [
                            "string"
                        ],
                        "default": "medium_sensitivity",
                        "enum": [
                            "disable",
                            "low_sensitivity",
                            "medium_sensitivity",
                            "high_sensitivity"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "self_harm_category": {
                        "type": [
                            "string"
                        ],
                        "default": "medium_sensitivity",
                        "enum": [
                            "disable",
                            "low_sensitivity",
                            "medium_sensitivity",
                            "high_sensitivity"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "sexual_category": {
                        "type": [
                            "string"
                        ],
                        "default": "medium_sensitivity",
                        "enum": [
                            "disable",
                            "low_sensitivity",
                            "medium_sensitivity",
                            "high_sensitivity"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "text": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "violence_category": {
                        "type": [
                            "string"
                        ],
                        "default": "medium_sensitivity",
                        "enum": [
                            "disable",
                            "low_sensitivity",
                            "medium_sensitivity",
                            "high_sensitivity"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "description": "Use Azure Content Safety to detect harmful content.",
                "module": "content_safety_text.tools.content_safety_text_tool",
                "function": "analyze_text",
                "is_builtin": true,
                "package": "promptflow-contentsafety",
                "package_version": "0.0.9",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "Embedding",
                "type": "python",
                "inputs": {
                    "connection": {
                        "type": [
                            "AzureOpenAIConnection",
                            "OpenAIConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "deployment_name": {
                        "type": [
                            "string"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "AzureOpenAIConnection"
                        ],
                        "model_list": [
                            "text-embedding-ada-002",
                            "text-search-ada-doc-001",
                            "text-search-ada-query-001"
                        ],
                        "capabilities": {
                            "completion": false,
                            "chat_completion": false,
                            "embeddings": true
                        },
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "input": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "model": {
                        "type": [
                            "string"
                        ],
                        "enum": [
                            "text-embedding-ada-002",
                            "text-search-ada-doc-001",
                            "text-search-ada-query-001"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "OpenAIConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "description": "Use Open AI's embedding model to create an embedding vector representing the input text.",
                "module": "promptflow.tools.embedding",
                "function": "embedding",
                "is_builtin": true,
                "package": "promptflow-tools",
                "package_version": "0.1.0b10",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "Open Source LLM",
                "type": "custom_llm",
                "inputs": {
                    "api": {
                        "type": [
                            "string"
                        ],
                        "enum": [
                            "chat",
                            "completion"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "connection": {
                        "type": [
                            "CustomConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "deployment_name": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "endpoint_name": {
                        "type": [
                            "string"
                        ],
                        "default": "-- please enter an endpoint name --",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "max_new_tokens": {
                        "type": [
                            "int"
                        ],
                        "default": 500,
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "model_kwargs": {
                        "type": [
                            "object"
                        ],
                        "default": "{}",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default",
                        "advanced": true
                    },
                    "temperature": {
                        "type": [
                            "double"
                        ],
                        "default": 1.0,
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "top_p": {
                        "type": [
                            "double"
                        ],
                        "default": 1.0,
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default",
                        "advanced": true
                    }
                },
                "description": "Use an Open Source model from the Azure Model catalog, deployed to an AzureML Online Endpoint for LLM Chat or Completion API calls.",
                "module": "promptflow.tools.open_source_llm",
                "class_name": "OpenSourceLLM",
                "function": "call",
                "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABYUlEQVR4nIWRsUtbcRRGz70v5BmHiLSh7pJu0oJDHUrf1kVwlCIRHMTN/yDasd0imCkgZGibFlrd5DmFNDSiksADsdAhk3TIZmj6kCa/65BERCie6Rsu93LPByPeajUxztWEKXcxzwTg/VQz18y9mwYwMQ9AxkNHLzI5nfvT9lwqa1H3c9AAwRATob7qLw8mLTz/tHEJxZnnK/4i/+Ivr8oGUNtqho1gdCz5yx+mRtAK63kAooPSAhwVTor7TwE+Zs+K4Q6UFqIDSIDG02nTb7tTa7N7xxFMPuvVrsumX9MaQwJM+wNxtNne9Fc/iJZfF2KAysAUbv81rzqxe939cfW9EFcnhi8CKIjz1BSjjyQfJR8j9DFTT8UNN6Q6XXFIRo3eRe/CyCgirtN1KQDq+VZ4GnCPRtAKa3nuiEq5w5+V9d+w82T+TXJJR6Luqf7b9pyftahXeXk8VP1gWbf8r+4bvICY0FkMumIAAAAASUVORK5CYII=",
                "is_builtin": true,
                "package": "promptflow-tools",
                "package_version": "0.1.0b10",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "Serp API",
                "type": "python",
                "inputs": {
                    "connection": {
                        "type": [
                            "SerpConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "engine": {
                        "type": [
                            "string"
                        ],
                        "default": "google",
                        "enum": [
                            "google",
                            "bing"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "location": {
                        "type": [
                            "string"
                        ],
                        "default": "",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "num": {
                        "type": [
                            "int"
                        ],
                        "default": "10",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "query": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "safe": {
                        "type": [
                            "string"
                        ],
                        "default": "off",
                        "enum": [
                            "active",
                            "off"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "description": "Use Serp API to obtain search results from a specific search engine.",
                "module": "promptflow.tools.serpapi",
                "class_name": "SerpAPI",
                "function": "search",
                "is_builtin": true,
                "package": "promptflow-tools",
                "package_version": "0.1.0b10",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "Faiss Index Lookup",
                "type": "python",
                "inputs": {
                    "path": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "top_k": {
                        "type": [
                            "int"
                        ],
                        "default": "3",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "vector": {
                        "type": [
                            "list"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "description": "Search vector based query from the FAISS index file.",
                "module": "promptflow_vectordb.tool.faiss_index_lookup",
                "class_name": "FaissIndexLookup",
                "function": "search",
                "is_builtin": true,
                "package": "promptflow-vectordb",
                "package_version": "0.0.1",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "Vector DB Lookup",
                "type": "python",
                "inputs": {
                    "class_name": {
                        "type": [
                            "string"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "WeaviateConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "collection_name": {
                        "type": [
                            "string"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "QdrantConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "connection": {
                        "type": [
                            "CognitiveSearchConnection",
                            "QdrantConnection",
                            "WeaviateConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "index_name": {
                        "type": [
                            "string"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "CognitiveSearchConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "search_filters": {
                        "type": [
                            "object"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "CognitiveSearchConnection",
                            "QdrantConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "search_params": {
                        "type": [
                            "object"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "CognitiveSearchConnection",
                            "QdrantConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "text_field": {
                        "type": [
                            "string"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "CognitiveSearchConnection",
                            "QdrantConnection",
                            "WeaviateConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "top_k": {
                        "type": [
                            "int"
                        ],
                        "default": "3",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "vector": {
                        "type": [
                            "list"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "vector_field": {
                        "type": [
                            "string"
                        ],
                        "enabled_by": "connection",
                        "enabled_by_type": [
                            "CognitiveSearchConnection"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "description": "Search vector based query from existing Vector Database.",
                "module": "promptflow_vectordb.tool.vector_db_lookup",
                "class_name": "VectorDBLookup",
                "function": "search",
                "is_builtin": true,
                "package": "promptflow-vectordb",
                "package_version": "0.0.1",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "Vector Index Lookup",
                "type": "python",
                "inputs": {
                    "path": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "query": {
                        "type": [
                            "object"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "top_k": {
                        "type": [
                            "int"
                        ],
                        "default": "3",
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "description": "Search text or vector based query from AzureML Vector Index.",
                "module": "promptflow_vectordb.tool.vector_index_lookup",
                "class_name": "VectorIndexLookup",
                "function": "search",
                "is_builtin": true,
                "package": "promptflow-vectordb",
                "package_version": "0.0.1",
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "classify_with_llm.jinja2",
                "type": "llm",
                "inputs": {
                    "examples": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "text_content": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    },
                    "url": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "source": "classify_with_llm.jinja2",
                "is_builtin": false,
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "convert_to_dict.py",
                "type": "python",
                "inputs": {
                    "input_str": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "source": "convert_to_dict.py",
                "function": "convert_to_dict",
                "is_builtin": false,
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "fetch_text_content_from_url.py",
                "type": "python",
                "inputs": {
                    "fetch_url": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "source": "fetch_text_content_from_url.py",
                "function": "fetch_text_content_from_url",
                "is_builtin": false,
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "prepare_examples.py",
                "type": "python",
                "source": "prepare_examples.py",
                "function": "prepare_examples",
                "is_builtin": false,
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "summarize_text_content.jinja2",
                "type": "llm",
                "inputs": {
                    "text": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "source": "summarize_text_content.jinja2",
                "is_builtin": false,
                "enable_kwargs": false,
                "tool_state": "stable"
            },
            {
                "name": "summarize_text_content__variant_1.jinja2",
                "type": "llm",
                "inputs": {
                    "text": {
                        "type": [
                            "string"
                        ],
                        "allow_manual_entry": false,
                        "is_multi_select": false,
                        "input_type": "default"
                    }
                },
                "source": "summarize_text_content__variant_1.jinja2",
                "is_builtin": false,
                "enable_kwargs": false,
                "tool_state": "stable"
            }
        ],
        "inputs": {
            "url": {
                "type": "string",
                "default": "https://www.microsoft.com/en-us/d/xbox-wireless-controller-stellar-shift-special-edition/94fbjc7h0h6h",
                "is_chat_input": false
            }
        },
        "outputs": {
            "category": {
                "type": "string",
                "reference": "${convert_to_dict.output.category}",
                "evaluation_only": false,
                "is_chat_output": false
            },
            "evidence": {
                "type": "string",
                "reference": "${convert_to_dict.output.evidence}",
                "evaluation_only": false,
                "is_chat_output": false
            }
        }
    },
    "flowRunResourceId": "azureml://locations/eastus/workspaces/3e123da1-f9a5-4c91-9234-8d9ffbb39ff5/flows/6ce7ef3a-44ed-47c6-abe8-f4e760f67a78/flowRuns/6ce7ef3a-44ed-47c6-abe8-f4e760f67a78",
    "flowRunId": "6ce7ef3a-44ed-47c6-abe8-f4e760f67a78",
    "flowRunDisplayName": "6ce7ef3a-44ed-47c6-abe8-f4e760f67a78",
    "batchDataInput": {
        "dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/107bd3498e44deb2dccc53d2208d32b2/webClassification1.jsonl"
    },
    "flowRunType": "FlowRun",
    "flowType": "Default",
    "runtimeName": "hod-ci",
    "inputsMapping": {
        "url": "${data.url}"
    },
    "outputDatastoreName": "workspaceblobstore",
    "childRunBasePath": "promptflow/PromptFlowArtifacts/6ce7ef3a-44ed-47c6-abe8-f4e760f67a78/flow_artifacts",
    "flowDagFileRelativePath": "flow.dag.yaml",
    "flowSnapshotId": "f79b944d-a915-44cd-97c6-8196061a4187",
    "studioPortalEndpoint": "https://ml.azure.com/runs/6ce7ef3a-44ed-47c6-abe8-f4e760f67a78?wsid=/subscriptions/96aede12-2f73-41cb-b983-6d11a904839b/resourcegroups/promptflow/providers/Microsoft.MachineLearningServices/workspaces/promptflow-eastus"
}